<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EDA Results Analysis Report</title>
    <script src="https://cdn.plot.ly/plotly-2.26.0.min.js"></script>
    <style>
        :root {
            --primary-color: #2C3E50;
            --secondary-color: #95A5A6;
            --success-color: #27AE60;
            --warning-color: #F39C12;
            --danger-color: #E74C3C;
            --info-color: #3498DB;
            --beauty-color: #FF6B6B;
            --clothing-color: #4ECDC4;
            --electronics-color: #45B7D1;
            --bg-color: #F8F9FA;
            --card-bg: #FFFFFF;
            --text-color: #2C3E50;
            --border-color: #E9ECEF;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* Header Styles */
        .header {
            background: linear-gradient(135deg, var(--primary-color), var(--info-color));
            color: white;
            padding: 40px 20px;
            text-align: center;
            margin-bottom: 30px;
            border-radius: 10px;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .header .subtitle {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .header .meta {
            margin-top: 20px;
            font-size: 0.9em;
            opacity: 0.8;
        }
        
        /* Navigation */
        .nav {
            background: var(--card-bg);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 10px;
            z-index: 100;
        }
        
        .nav ul {
            list-style: none;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
        }
        
        .nav a {
            color: var(--primary-color);
            text-decoration: none;
            padding: 8px 15px;
            border-radius: 5px;
            background: var(--bg-color);
            transition: all 0.3s ease;
            font-size: 0.9em;
        }
        
        .nav a:hover {
            background: var(--primary-color);
            color: white;
        }
        
        /* Section Styles */
        .section {
            background: var(--card-bg);
            border-radius: 10px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .section-header {
            display: flex;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--border-color);
        }
        
        .section-number {
            background: var(--primary-color);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
        }
        
        .section h2 {
            font-size: 1.5em;
            color: var(--primary-color);
        }
        
        .section h3 {
            font-size: 1.2em;
            color: var(--primary-color);
            margin: 20px 0 15px 0;
        }
        
        /* Interpretation Box */
        .interpretation {
            background: linear-gradient(135deg, #f5f7fa, #c3cfe2);
            border-left: 4px solid var(--info-color);
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 10px 10px 0;
        }
        
        .interpretation h4 {
            color: var(--info-color);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .interpretation h4::before {
            content: "üí°";
        }
        
        .interpretation ul {
            margin-left: 20px;
        }
        
        .interpretation li {
            margin-bottom: 8px;
        }
        
        /* Key Insight Box */
        .key-insight {
            background: linear-gradient(135deg, #fff9e6, #fff3cd);
            border-left: 4px solid var(--warning-color);
            padding: 15px 20px;
            margin: 15px 0;
            border-radius: 0 10px 10px 0;
        }
        
        .key-insight strong {
            color: var(--warning-color);
        }
        
        /* Warning Box */
        .warning-box {
            background: linear-gradient(135deg, #fff5f5, #ffe3e3);
            border-left: 4px solid var(--danger-color);
            padding: 15px 20px;
            margin: 15px 0;
            border-radius: 0 10px 10px 0;
        }
        
        .warning-box strong {
            color: var(--danger-color);
        }
        
        /* Success Box */
        .success-box {
            background: linear-gradient(135deg, #f0fff4, #c6f6d5);
            border-left: 4px solid var(--success-color);
            padding: 15px 20px;
            margin: 15px 0;
            border-radius: 0 10px 10px 0;
        }
        
        .success-box strong {
            color: var(--success-color);
        }
        
        /* Tables */
        .table-container {
            overflow-x: auto;
            margin: 20px 0;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        
        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }
        
        th {
            background: var(--primary-color);
            color: white;
            font-weight: 600;
        }
        
        tr:hover {
            background: var(--bg-color);
        }
        
        /* Status Badges */
        .badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 600;
        }
        
        .badge-pass {
            background: var(--success-color);
            color: white;
        }
        
        .badge-fail {
            background: var(--danger-color);
            color: white;
        }
        
        .badge-warning {
            background: var(--warning-color);
            color: white;
        }
        
        .badge-info {
            background: var(--info-color);
            color: white;
        }
        
        /* Dataset Labels */
        .dataset-label {
            display: inline-block;
            padding: 3px 10px;
            border-radius: 15px;
            font-size: 0.85em;
            font-weight: 500;
            color: white;
        }
        
        .dataset-beauty {
            background: var(--beauty-color);
        }
        
        .dataset-clothing {
            background: var(--clothing-color);
        }
        
        .dataset-electronics {
            background: var(--electronics-color);
        }
        
        /* Chart Container */
        .chart-container {
            margin: 25px 0;
            min-height: 400px;
        }
        
        .chart-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        /* Metrics Grid */
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .metric-card {
            background: var(--bg-color);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }
        
        .metric-value {
            font-size: 2em;
            font-weight: bold;
            color: var(--primary-color);
        }
        
        .metric-label {
            color: var(--secondary-color);
            font-size: 0.9em;
            margin-top: 5px;
        }
        
        /* Collapsible Sections */
        .collapsible {
            cursor: pointer;
            user-select: none;
        }
        
        .collapsible::after {
            content: " ‚ñº";
            font-size: 0.8em;
        }
        
        .collapsible.collapsed::after {
            content: " ‚ñ∂";
        }
        
        .collapsible-content {
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }
        
        .collapsible-content.collapsed {
            max-height: 0;
        }
        
        /* Footer */
        .footer {
            text-align: center;
            padding: 30px;
            color: var(--secondary-color);
            border-top: 1px solid var(--border-color);
            margin-top: 50px;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8em;
            }
            
            .nav ul {
                flex-direction: column;
            }
            
            .section {
                padding: 20px;
            }
            
            .chart-row {
                grid-template-columns: 1fr;
            }
        }
        
        /* Print Styles */
        @media print {
            .nav {
                display: none;
            }
            
            .section {
                break-inside: avoid;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1>üìä EDA Results Analysis Report</h1>
            <p class="subtitle">Multimodal Recommendation System Dataset Analysis</p>
            <div class="meta">
                <span>Generated: {{ generation_date }}</span> | 
                <span>Datasets: {{ dataset_names | join(', ') }}</span>
            </div>
        </header>
        
        <!-- Navigation -->
        <nav class="nav">
            <ul>
                <li><a href="#overview">Overview</a></li>
                <li><a href="#ratings">Ratings</a></li>
                <li><a href="#temporal">Temporal</a></li>
                <li><a href="#behavior">User/Item</a></li>
                <li><a href="#multimodal">Multimodal</a></li>
                <li><a href="#embeddings">Embeddings</a></li>
                <li><a href="#alignment">Alignment</a></li>
                <li><a href="#graph">Graph</a></li>
                <li><a href="#bpr">BPR</a></li>
                <li><a href="#consistency">Consistency</a></li>
                <li><a href="#feasibility">Feasibility</a></li>
                <li><a href="#recommendations">Recommendations</a></li>
            </ul>
        </nav>
        
        <!-- Executive Summary -->
        <section class="section" id="summary">
            <div class="section-header">
                <div class="section-number">‚òÖ</div>
                <h2>Executive Summary</h2>
            </div>
            
            <div class="metrics-grid">
                {% for dataset in datasets %}
                <div class="metric-card">
                    <div class="dataset-label dataset-{{ dataset.name }}">{{ dataset.display_name }}</div>
                    <div class="metric-value">{{ dataset.interactions | format_number }}</div>
                    <div class="metric-label">Interactions</div>
                </div>
                {% endfor %}
            </div>
            
            {{ summary_table | safe }}
            
            <div class="key-insight">
                <strong>Key Findings:</strong>
                <ul>
                    <li>All datasets exhibit extreme sparsity (>99.99%), typical for recommendation systems</li>
                    <li>Strong rating bias toward 5-star reviews across all categories</li>
                    <li>Visual and text features show weak alignment with user preferences</li>
                    <li>LATTICE model is feasible for all datasets based on graph connectivity</li>
                    <li>Mean centering significantly improves embedding quality (anisotropy fix)</li>
                </ul>
            </div>
        </section>
        
        <!-- Section 1: Dataset Overview -->
        <section class="section" id="overview">
            <div class="section-header">
                <div class="section-number">1</div>
                <h2>Dataset Overview & Scale</h2>
            </div>
            
            <p>Analysis of dataset size, sparsity, and 5-core filtering statistics.</p>
            
            <div class="chart-container">
                {{ scale_comparison_chart | safe }}
            </div>
            
            <div class="chart-row">
                <div class="chart-container">
                    {{ sparsity_chart | safe }}
                </div>
                <div class="chart-container">
                    {{ memory_chart | safe }}
                </div>
            </div>
            
            <h3>5-Core Filtering Statistics</h3>
            {{ five_core_table | safe }}
            
            <div class="interpretation">
                <h4>Interpretation</h4>
                <ul>
                    <li><strong>Scale:</strong> Clothing is the largest dataset with 23M+ interactions, followed by Electronics (15M+) and Beauty (6.6M)</li>
                    <li><strong>Sparsity:</strong> All datasets are extremely sparse (>99.99%), which is typical for e-commerce recommendations. This means most user-item pairs have no interactions.</li>
                    <li><strong>Cold Start:</strong> With median user interactions of 7 and median item interactions of 10-12, there's a significant cold-start challenge for new users and items.</li>
                    <li><strong>Power Users:</strong> Max user interactions range from 938 to 2,680, indicating highly active users that could dominate training.</li>
                </ul>
            </div>
        </section>
        
        <!-- Section 2: Rating Distribution -->
        <section class="section" id="ratings">
            <div class="section-header">
                <div class="section-number">2</div>
                <h2>Rating Distribution Analysis</h2>
            </div>
            
            <p>Analysis of rating patterns and biases across datasets.</p>
            
            <div class="chart-container">
                {{ rating_distribution_chart | safe }}
            </div>
            
            <div class="chart-row">
                <div class="chart-container">
                    {{ rating_heatmap | safe }}
                </div>
                <div class="chart-container">
                    {{ rating_stats_chart | safe }}
                </div>
            </div>
            
            <h3>Rating Statistics</h3>
            {{ rating_stats_table | safe }}
            
            <div class="warning-box">
                <strong>‚ö†Ô∏è Rating Bias Alert:</strong> All datasets show strong positive bias with 65-66% of ratings being 5-stars. This "J-shaped" distribution is common in e-commerce but can affect model training. Consider:
                <ul>
                    <li>Using implicit feedback (treating all ratings as positive interactions)</li>
                    <li>Applying rating normalization or sampling strategies</li>
                    <li>Being cautious with explicit rating prediction tasks</li>
                </ul>
            </div>
        </section>
        
        <!-- Section 3: Temporal Analysis -->
        <section class="section" id="temporal">
            <div class="section-header">
                <div class="section-number">3</div>
                <h2>Temporal Analysis</h2>
            </div>
            
            <p>Analysis of data collection timeline and temporal patterns.</p>
            
            <div class="chart-container">
                {{ temporal_overview_chart | safe }}
            </div>
            
            <div class="chart-container">
                {{ temporal_trends_chart | safe }}
            </div>
            
            <h3>Date Range Summary</h3>
            {{ temporal_table | safe }}
            
            <div class="interpretation">
                <h4>Interpretation</h4>
                <ul>
                    <li><strong>Data Span:</strong> All datasets cover 20+ years of Amazon reviews (1999/2000 to 2023)</li>
                    <li><strong>Recency:</strong> Data extends to September 2023, making it relatively current</li>
                    <li><strong>Temporal Drift:</strong> User preferences and product catalogs have likely evolved significantly over this period</li>
                    <li><strong>Consideration:</strong> For production models, consider using only recent data (e.g., last 3-5 years) or applying temporal weighting</li>
                </ul>
            </div>
        </section>
        
        <!-- Section 4: User & Item Behavior -->
        <section class="section" id="behavior">
            <div class="section-header">
                <div class="section-number">4</div>
                <h2>User & Item Behavior Analysis</h2>
            </div>
            
            <p>Analysis of user activity patterns and item popularity distribution.</p>
            
            <div class="chart-container">
                {{ five_core_stats_chart | safe }}
            </div>
            
            <div class="chart-container">
                {{ tier_analysis_chart | safe }}
            </div>
            
            <div class="interpretation">
                <h4>Interpretation</h4>
                <ul>
                    <li><strong>Power Law:</strong> Interactions follow a power-law distribution - a small percentage of users/items account for a large portion of interactions</li>
                    <li><strong>Top 1% Items:</strong> The most popular 1% of items account for ~23-30% of all interactions</li>
                    <li><strong>Long Tail:</strong> The bottom 50% of items contribute only ~12% of interactions</li>
                    <li><strong>Recommendation Challenge:</strong> Balancing popular item recommendations with long-tail discovery is crucial</li>
                </ul>
            </div>
        </section>
        
        <!-- Section 5: Multimodal Coverage -->
        <section class="section" id="multimodal">
            <div class="section-header">
                <div class="section-number">5</div>
                <h2>Multimodal Feature Coverage</h2>
            </div>
            
            <p>Analysis of text and visual feature availability across items.</p>
            
            <div class="chart-container">
                {{ modality_coverage_chart | safe }}
            </div>
            
            <div class="chart-row">
                <div class="chart-container">
                    {{ feature_completeness_chart | safe }}
                </div>
                <div class="chart-container">
                    {{ text_lengths_chart | safe }}
                </div>
            </div>
            
            <h3>Coverage Summary</h3>
            {{ coverage_table | safe }}
            
            <div class="success-box">
                <strong>‚úì Good Coverage:</strong> 
                <ul>
                    <li>Images: ~100% coverage across all datasets with 5+ images per item on average</li>
                    <li>Titles: ~100% coverage with varying lengths (80-125 chars)</li>
                    <li>Features: 82-95% coverage - good for text-based features</li>
                </ul>
            </div>
            
            <div class="warning-box">
                <strong>‚ö†Ô∏è Gap Alert:</strong> Description coverage is only 48-56% across datasets. Consider:
                <ul>
                    <li>Using title + features as primary text source</li>
                    <li>Handling missing descriptions with special tokens or imputation</li>
                </ul>
            </div>
        </section>
        
        <!-- Section 6: Embedding Quality -->
        <section class="section" id="embeddings">
            <div class="section-header">
                <div class="section-number">6</div>
                <h2>Embedding Quality Analysis</h2>
            </div>
            
            <p>Analysis of visual and text embedding extraction quality.</p>
            
            <div class="chart-container">
                {{ embedding_stats_chart | safe }}
            </div>
            
            <h3>Feature Collapse Analysis</h3>
            <div class="chart-container">
                {{ feature_collapse_chart | safe }}
            </div>
            
            {{ collapse_table | safe }}
            
            <h3>Anisotropy Analysis</h3>
            <div class="chart-container">
                {{ anisotropy_chart | safe }}
            </div>
            
            {{ anisotropy_table | safe }}
            
            <div class="key-insight">
                <strong>Critical Finding - Anisotropy:</strong> All datasets show anisotropic embeddings (avg cosine ~0.5) before centering. After mean centering, this drops to ~0.0, significantly improving embedding quality. <strong>Always apply mean centering before using embeddings in models!</strong>
            </div>
        </section>
        
        <!-- Section 7: Modality Alignment -->
        <section class="section" id="alignment">
            <div class="section-header">
                <div class="section-number">7</div>
                <h2>Modality Alignment Analysis</h2>
            </div>
            
            <p>Analysis of how visual and text features align with user behavior.</p>
            
            <h3>Visual & Text Alignment with Interactions</h3>
            <div class="chart-container">
                {{ alignment_comparison_chart | safe }}
            </div>
            
            {{ alignment_table | safe }}
            
            <h3>Cross-Modal Consistency (Text ‚Üî Image)</h3>
            <div class="chart-container">
                {{ cross_modal_chart | safe }}
            </div>
            
            {{ cross_modal_table | safe }}
            
            <h3>CCA Analysis</h3>
            <div class="chart-container">
                {{ cca_chart | safe }}
            </div>
            
            <div class="warning-box">
                <strong>‚ö†Ô∏è Weak Alignment Signal:</strong>
                <ul>
                    <li>Visual-Interaction correlation is near zero (r ‚âà 0.00) - visual similarity doesn't predict co-interaction</li>
                    <li>Text-Interaction correlation is also very weak (r ‚âà 0.02)</li>
                    <li>This suggests users don't primarily choose products based on visual or textual similarity</li>
                    <li>Other factors (brand, price, reviews, personal needs) likely drive purchases</li>
                </ul>
            </div>
            
            <div class="success-box">
                <strong>‚úì Strong CCA Correlation:</strong> Despite weak direct alignment, CCA shows strong linear relationships (~0.9) between modalities. This means contrastive learning (MICRO) should work well for learning joint representations.
            </div>
        </section>
        
        <!-- Section 8: Graph Analysis -->
        <section class="section" id="graph">
            <div class="section-header">
                <div class="section-number">8</div>
                <h2>Graph Connectivity Analysis</h2>
            </div>
            
            <p>Analysis of item similarity graph connectivity for LATTICE model.</p>
            
            <div class="chart-container">
                {{ graph_connectivity_chart | safe }}
            </div>
            
            {{ graph_table | safe }}
            
            <h3>K-Core Analysis</h3>
            <div class="chart-container">
                {{ kcore_chart | safe }}
            </div>
            
            <div class="success-box">
                <strong>‚úì LATTICE Feasibility:</strong> All datasets have giant component coverage >99%, well above the 50% threshold. The item similarity graphs are well-connected, making LATTICE's graph-based approach feasible.
            </div>
        </section>
        
        <!-- Section 9: BPR Hardness -->
        <section class="section" id="bpr">
            <div class="section-header">
                <div class="section-number">9</div>
                <h2>BPR Negative Sampling Hardness</h2>
            </div>
            
            <p>Analysis of negative sampling difficulty for BPR-based training.</p>
            
            <div class="chart-container">
                {{ bpr_hardness_chart | safe }}
            </div>
            
            {{ bpr_table | safe }}
            
            <div class="interpretation">
                <h4>Interpretation</h4>
                <ul>
                    <li><strong>Medium Difficulty:</strong> ~99% of negative pairs are "medium" difficulty (visual distance ~0.5)</li>
                    <li><strong>Few Hard Negatives:</strong> Only 1-4% of negatives are visually similar to positive items</li>
                    <li><strong>Recommendation:</strong> Consider mixing random and hard negative sampling for better training</li>
                </ul>
            </div>
        </section>
        
        <!-- Section 10: User Consistency -->
        <section class="section" id="consistency">
            <div class="section-header">
                <div class="section-number">10</div>
                <h2>User Visual Preference Consistency</h2>
            </div>
            
            <p>Analysis of whether users show consistent visual preferences.</p>
            
            <div class="chart-container">
                {{ user_consistency_chart | safe }}
            </div>
            
            {{ consistency_table | safe }}
            
            <div class="interpretation">
                <h4>Interpretation</h4>
                <ul>
                    <li><strong>Moderate Consistency:</strong> Local distance < Global distance (ratio ~0.94), indicating some visual preference coherence</li>
                    <li><strong>User Variation:</strong> 50-61% of users show visual coherence in their purchases</li>
                    <li><strong>Implication:</strong> Visual features have predictive power but shouldn't be the sole signal</li>
                </ul>
            </div>
        </section>
        
        <!-- Section 11: Model Feasibility -->
        <section class="section" id="feasibility">
            <div class="section-header">
                <div class="section-number">11</div>
                <h2>Model Feasibility Assessment</h2>
            </div>
            
            <p>Summary of feasibility checks for multimodal recommendation models.</p>
            
            <div class="chart-row">
                <div class="chart-container">
                    {{ feasibility_radar | safe }}
                </div>
                <div class="chart-container">
                    {{ feasibility_summary | safe }}
                </div>
            </div>
            
            {{ feasibility_table | safe }}
            
            <div class="success-box">
                <strong>‚úì All Checks Passed:</strong> All datasets pass the LATTICE feasibility checks:
                <ul>
                    <li>Alignment: Weak but acceptable (not required to be strong)</li>
                    <li>Connectivity: Excellent (>99% giant component)</li>
                    <li>Collapse: No feature collapse detected</li>
                </ul>
                <p><strong>Decision: PROCEED with LATTICE, MICRO, and DiffMM models</strong></p>
            </div>
        </section>
        
        <!-- Section 12: Recommendations -->
        <section class="section" id="recommendations">
            <div class="section-header">
                <div class="section-number">12</div>
                <h2>Analysis Recommendations</h2>
            </div>
            
            <p>Actionable recommendations based on EDA findings.</p>
            
            <div class="chart-container">
                {{ recommendations_chart | safe }}
            </div>
            
            <h3>Key Recommendations Summary</h3>
            
            <div class="key-insight">
                <strong>üîß Data Preprocessing:</strong>
                <ul>
                    <li>Apply mean centering to all embeddings before model training</li>
                    <li>Consider temporal filtering to use only recent data (2018+)</li>
                    <li>Handle missing descriptions using title + features concatenation</li>
                </ul>
            </div>
            
            <div class="key-insight">
                <strong>üéØ Model Training:</strong>
                <ul>
                    <li>Use implicit feedback (binary interactions) rather than explicit ratings</li>
                    <li>Mix random and hard negative sampling for BPR-based training</li>
                    <li>MICRO's contrastive loss should converge well given strong CCA correlations</li>
                </ul>
            </div>
            
            <div class="key-insight">
                <strong>üìä Modality Usage:</strong>
                <ul>
                    <li>Visual features: Use as auxiliary signal, not primary predictor</li>
                    <li>Text features: Similar weak signal - use for filtering/fallback</li>
                    <li>Consider separate modality branches rather than early fusion</li>
                </ul>
            </div>
            
            <div class="key-insight">
                <strong>‚ö° Performance Optimization:</strong>
                <ul>
                    <li>Clothing dataset is largest - may need sampling or distributed training</li>
                    <li>Pre-compute embeddings offline to speed up training</li>
                    <li>Consider k-core filtering to reduce dataset size if needed</li>
                </ul>
            </div>
        </section>
        
        <!-- Footer -->
        <footer class="footer">
            <p>EDA Report generated by the Multimodal Recommendation System Analysis Pipeline</p>
            <p>¬© 2025 | Report Version 1.0</p>
        </footer>
    </div>
    
    <script>
        // Collapsible sections functionality
        document.querySelectorAll('.collapsible').forEach(item => {
            item.addEventListener('click', function() {
                this.classList.toggle('collapsed');
                const content = this.nextElementSibling;
                if (content.classList.contains('collapsible-content')) {
                    content.classList.toggle('collapsed');
                }
            });
        });
        
        // Smooth scrolling for navigation
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
    </script>
</body>
</html>
